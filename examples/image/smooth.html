<!DOCTYPE html>
<html>
    <body>
        <h1>Smooth Effect</h1>
        <p>Click(touch) on image and move left or right.</p>
    </body>
    <script src="../../dist/gengine.js"></script>
    <script>
        const SmoothImageWindow = gengine.default.rendering.core.window.SmoothImageWindow;
        let container;
        let imageWindow;
        let image;
        let windowRatio = 1;
        window.addEventListener('load', function() {
            container = document.getElementById("gl_container");
            imageWindow = new SmoothImageWindow(container);
            imageWindow.initialize(container.clientWidth, container.clientWidth * windowRatio);
            image = new Image();
            image.crossOrigin = "anonymous";
            image.src = 'https://gandis0713.github.io/img/about-bg.jpg';
            image.addEventListener('load', function() {
                windowRatio = image.height / image.width;
                imageWindow.setSize(container.clientWidth, container.clientWidth * windowRatio);
                imageWindow.setImage(image);
            });
        })
        window.addEventListener('resize', function() {
            if(!image) return;
            imageWindow.setSize(container.clientWidth, container.clientWidth * windowRatio);
        });
    </script>
    <body>
        <div id="gl_container" style="width: 100%"></div>
    </body>
</html>